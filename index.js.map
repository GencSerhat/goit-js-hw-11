{"version":3,"file":"index.js","sources":["../src/query.js"],"sourcesContent":["console.log('merhaba');\n// Dokümantasyonda belirtilen import\nimport iziToast from 'izitoast';\n// Stil importu\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Dokümantasyonda belirtilen import\nimport SimpleLightbox from 'simplelightbox';\n// Stil importu\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst API_KEY = '48479056-b624f953eac1ddf8407abd187';\nconst BASE_URL = 'https://pixabay.com/api/';\n\n// DOM öğelerimi seçtim\n\nconst searchInput = document.querySelector('.search-input');\nconst searchButton = document.querySelector('.search-btn');\nconst imagesContainer = document.querySelector('.images-container');\nconst loader = document.querySelector('.loader');\n\n//Butona tıklama olayı\n\nsearchButton.addEventListener('click', () => {\n  const query = searchInput.value.trim(); // input değerini aldım.\n  if (query) {\n    fetchImages(query); // resimleri getir\n  } else {\n    alert('Lütfen bir klime girin');\n  }\n});\n\n// Pixabay API'ye Fetch ile istek attım\n\nfunction fetchImages(query) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(\n    query\n  )}&image_type=photo&orientation=horizontal&safesearch=true`;\n  loader.style.visibility = 'visible'; // Loader'ı göster\n  imagesContainer.innerHTML = ''; // Önceki içeriği temizle\n\n  setTimeout(() => {\n    fetch(url)\n      .then(response => {\n        if (!response.ok) {\n          throw new Error('API isteği başarısız oldu');\n        }\n        return response.json();\n      })\n      .then(data => {\n        if (data.hits.length > 0) {\n          displayImages(data.hits);\n        } else {\n          imagesContainer.innerHTML = iziToast.error({\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            position: 'topRight',\n          });\n        }\n      })\n      .catch(error => {\n        console.log('Hata : ', error);\n        imagesContainer.innerHTML =\n          '<p>Bir hata oluştu lütfen tekrar deneyin </p>';\n      })\n      .finally(() => {\n        loader.style.visibility = 'hidden'; // Loader'ı gizle\n      });\n  }, 500);\n}\n\n// Resimleri ekrana bastım\nfunction displayImages(images) {\n  imagesContainer.innerHTML = images\n\n    .map(\n      image => `\n        <div class=\"image-card\">\n       <a href=\"${image.largeImageURL}\"> <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" title=\"${image.tags}\"></a>\n         <div class=\"info\">\n             <p><strong>Likes:</strong><br> ${image.likes}</br></p>\n                    <p><strong>Views:</strong> <br>${image.views}</br></p>\n                    <p><strong>Comments:</strong> <br>${image.comments}</br></p>\n                    <p><strong>Downloads:</strong><br> ${image.downloads}</br></p>\n                </div>\n            </div>\n\n        `\n    )\n\n    .join('');\n\n  const lightbox = new SimpleLightbox('.image-card a', {\n    captionsData: 'alt', // Alt metnini göster\n    captionDelay: 250, // Alt metnin görünme gecikmesi (ms)\n    nav: true, //sağa/sola kaydırma\n  });\n  lightbox.refresh();\n}\n"],"names":["API_KEY","BASE_URL","searchInput","searchButton","imagesContainer","loader","query","fetchImages","url","response","data","displayImages","iziToast","error","images","image","SimpleLightbox"],"mappings":"iyBAAA,QAAQ,IAAI,SAAS,EAWrB,MAAMA,EAAU,qCACVC,EAAW,2BAIXC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAe,SAAS,cAAc,aAAa,EACnDC,EAAkB,SAAS,cAAc,mBAAmB,EAC5DC,EAAS,SAAS,cAAc,SAAS,EAI/CF,EAAa,iBAAiB,QAAS,IAAM,CAC3C,MAAMG,EAAQJ,EAAY,MAAM,KAAI,EAChCI,EACFC,EAAYD,CAAK,EAEjB,MAAM,wBAAwB,CAElC,CAAC,EAID,SAASC,EAAYD,EAAO,CAC1B,MAAME,EAAM,GAAGP,CAAQ,QAAQD,CAAO,MAAM,mBAC1CM,CACD,CAAA,2DACDD,EAAO,MAAM,WAAa,UAC1BD,EAAgB,UAAY,GAE5B,WAAW,IAAM,CACf,MAAMI,CAAG,EACN,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,2BAA2B,EAE7C,OAAOA,EAAS,MACxB,CAAO,EACA,KAAKC,GAAQ,CACRA,EAAK,KAAK,OAAS,EACrBC,EAAcD,EAAK,IAAI,EAEvBN,EAAgB,UAAYQ,EAAS,MAAM,CACzC,QACE,2EACF,SAAU,UACtB,CAAW,CAEX,CAAO,EACA,MAAMC,GAAS,CACd,QAAQ,IAAI,UAAWA,CAAK,EAC5BT,EAAgB,UACd,+CACV,CAAO,EACA,QAAQ,IAAM,CACbC,EAAO,MAAM,WAAa,QAClC,CAAO,CACJ,EAAE,GAAG,CACR,CAGA,SAASM,EAAcG,EAAQ,CAC7BV,EAAgB,UAAYU,EAEzB,IACCC,GAAS;AAAA;AAAA,kBAEGA,EAAM,aAAa,gBAAgBA,EAAM,YAAY,UAAUA,EAAM,IAAI,YAAYA,EAAM,IAAI;AAAA;AAAA,8CAEnEA,EAAM,KAAK;AAAA,qDACJA,EAAM,KAAK;AAAA,wDACRA,EAAM,QAAQ;AAAA,yDACbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,SAKnE,EAEA,KAAK,EAAE,EAEO,IAAIC,EAAe,gBAAiB,CACnD,aAAc,MACd,aAAc,IACd,IAAK,EACT,CAAG,EACQ,QAAO,CAClB"}